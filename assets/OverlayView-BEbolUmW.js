const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EloCard-DEJhlEdJ.js","assets/player-3LHqwE3D.js","assets/index-BaOicT30.js","assets/index-COLxpC0z.css","assets/EloCard-BnezIKQw.css","assets/WinRateCard-CT_1ot4J.js","assets/WinRateCard-BzxL4MxT.css","assets/KDCard-C4x2zscw.js","assets/KDCard-C9enJd9i.css","assets/RecentMatchesCard-DcQCRK4r.js","assets/RecentMatchesCard-hMW6MDuO.css","assets/RecentStreakCard-CuSleQbD.js","assets/RecentStreakCard-CvWY53nG.css","assets/WinStreakCard-BAkXlPY3.js","assets/PerformanceCard-BkOGGQMa.js","assets/PerformanceCard-CkSURiil.css","assets/MapsCard-CSSK8GIQ.js","assets/MapsCard-bKz9H-Q0.css","assets/MultiKillCard-DikVH6GX.js","assets/MultiKillCard-DTTfvoRc.css","assets/MapPerformanceCard-DFX8wbEN.js","assets/MapPerformanceCard-BpmC8XO2.css","assets/PerformanceTrendCard-CRtTr92w.js","assets/PerformanceTrendCard-yqGDxZo5.css","assets/EntryFraggingCard-B8mV8rnL.js","assets/EntryFraggingCard-7ac6GdUc.css","assets/MvpAssistCard-Dwu2Cjck.js","assets/MvpAssistCard-e_U2MkD1.css","assets/SessionStatsCard-BpmSANJg.js","assets/SessionStatsCard-BAoio6dJ.css"])))=>i.map(i=>d[i]);
import{d as V,c as _,x as t,y as C,a,z as D,b as o,t as T,o as r,A as n,j as O,k as x,B as b,f as i,m as I,q as f,e as z,w as B,T as F,F as h,g as P,C as M,_ as N}from"./index-BaOicT30.js";import{u as U}from"./player-3LHqwE3D.js";import{u as $,S as j}from"./settings-BNdLziO6.js";const q={key:1,class:"stat-card glass rounded-xl p-6 text-center text-gray-400"},G={class:"text-sm"},K=V({__name:"StatCard",props:{type:{}},setup(g){const l=g,e={elo:t(()=>n(()=>import("./EloCard-DEJhlEdJ.js"),__vite__mapDeps([0,1,2,3,4]))),winrate:t(()=>n(()=>import("./WinRateCard-CT_1ot4J.js"),__vite__mapDeps([5,1,2,3,6]))),kd:t(()=>n(()=>import("./KDCard-C4x2zscw.js"),__vite__mapDeps([7,1,2,3,8]))),recentMatches:t(()=>n(()=>import("./RecentMatchesCard-DcQCRK4r.js"),__vite__mapDeps([9,1,2,3,10]))),recentStreak:t(()=>n(()=>import("./RecentStreakCard-CuSleQbD.js"),__vite__mapDeps([11,1,2,3,12]))),winStreak:t(()=>n(()=>import("./WinStreakCard-BAkXlPY3.js"),__vite__mapDeps([13,1,2,3]))),performance:t(()=>n(()=>import("./PerformanceCard-BkOGGQMa.js"),__vite__mapDeps([14,1,2,3,15]))),maps:t(()=>n(()=>import("./MapsCard-CSSK8GIQ.js"),__vite__mapDeps([16,1,2,3,17]))),multiKill:t(()=>n(()=>import("./MultiKillCard-DikVH6GX.js"),__vite__mapDeps([18,1,2,3,19]))),mapPerformance:t(()=>n(()=>import("./MapPerformanceCard-DFX8wbEN.js"),__vite__mapDeps([20,1,2,3,21]))),performanceTrend:t(()=>n(()=>import("./PerformanceTrendCard-CRtTr92w.js"),__vite__mapDeps([22,1,2,3,23]))),entryFragging:t(()=>n(()=>import("./EntryFraggingCard-B8mV8rnL.js"),__vite__mapDeps([24,1,2,3,25]))),mvpAssist:t(()=>n(()=>import("./MvpAssistCard-Dwu2Cjck.js"),__vite__mapDeps([26,1,2,3,27]))),sessionStats:t(()=>n(()=>import("./SessionStatsCard-BpmSANJg.js"),__vite__mapDeps([28,1,2,3,29])))},d=_(()=>e[l.type]||null);return(m,p)=>d.value?(r(),C(D(d.value),{key:0})):(r(),a("div",q,[p[0]||(p[0]=o("div",{class:"text-4xl mb-2"},"‚ùì",-1)),o("div",G,"Unknown card type: "+T(g.type),1)]))}}),Z={key:0,class:"error-screen"},H={key:1,class:"loading-screen"},J={key:2,class:"overlay-content"},Q={key:1,class:"rotation-indicator"},W={class:"flex items-center gap-2 justify-center"},X={key:3,class:"error-screen"},Y=V({__name:"OverlayView",setup(g){const l=U(),e=$(),d=O(0);let m=null;const p=_(()=>j[e.settings.size]),v=_(()=>p.value.maxCards),c=_(()=>e.activeCards),w=_(()=>c.value.length>0),E=_(()=>{if(!e.settings.rotation.enabled||c.value.length<=v.value)return c.value;const s=d.value,u=s+v.value;return c.value.slice(s,u)}),L=_(()=>{const s=E.value.length;return s===1?"grid grid-cols-1 gap-4":s===2?"grid grid-cols-1 md:grid-cols-2 gap-4":s===3?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}),R=_(()=>{const s=e.settings.rotation.transition;return s==="fade"?"fade":s==="slide"?"slide":""});function S(){if(!e.settings.rotation.enabled||c.value.length<=v.value)return;const s=e.settings.rotation.interval*1e3;m=window.setInterval(()=>{d.value=(d.value+v.value)%c.value.length},s)}function A(){m&&(clearInterval(m),m=null)}return x(async()=>{console.log("üîç Current URL:",window.location.href),console.log("üîç Search params:",window.location.search),e.loadFromUrl(),console.log("‚öôÔ∏è Loaded nickname:",e.settings.nickname),e.settings.nickname&&(await l.loadPlayer(e.settings.nickname),S(),setInterval(()=>{l.refreshStats()},5*60*1e3))}),b(()=>{A()}),(s,u)=>(r(),a("div",{class:f(["overlay-container",`size-${i(e).settings.size}`,{"animate-fade-in":i(e).settings.animations.fadeIn,"animate-slide-in":i(e).settings.animations.slideIn}]),style:M({opacity:i(e).settings.opacity/100})},[i(l).error?(r(),a("div",Z,[u[0]||(u[0]=o("h2",null,"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",-1)),o("p",null,T(i(l).error),1)])):i(l).isLoading?(r(),a("div",H,[...u[1]||(u[1]=[o("div",{class:"spinner"},null,-1),o("p",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",-1)])])):i(l).user?(r(),a("div",J,[w.value?(r(),a("div",{key:0,class:f(L.value)},[z(F,{name:R.value,mode:"out-in"},{default:B(()=>[(r(),a("div",{key:d.value,class:"card-container"},[(r(!0),a(h,null,P(E.value,y=>(r(),C(K,{key:y.id,type:y.type},null,8,["type"]))),128))]))]),_:1},8,["name"])],2)):I("",!0),i(e).settings.rotation.enabled&&c.value.length>v.value?(r(),a("div",Q,[o("div",W,[(r(!0),a(h,null,P(Math.ceil(c.value.length/v.value),(y,k)=>(r(),a("div",{key:k,class:f(["w-2 h-2 rounded-full transition-all",Math.floor(d.value/v.value)===k?"bg-primary w-4":"bg-gray-600"])},null,2))),128))])])):I("",!0)])):(r(),a("div",X,[...u[2]||(u[2]=[o("div",{class:"error-icon"},"üë§",-1),o("h2",null,"–ù–∏–∫–Ω–µ–π–º –Ω–µ —É–∫–∞–∑–∞–Ω",-1),o("p",null,"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–≤–µ—Ä–ª–µ–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ",-1)])]))],6))}}),re=N(Y,[["__scopeId","data-v-3212052c"]]);export{re as default};
