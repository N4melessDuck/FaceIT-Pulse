import{u as B}from"./player-B7MPWQ5D.js";import{d as q,c as r,a as z,o as E,b as s,t as l,p as f,B as L,_ as N}from"./index-CspIgzUJ.js";const $={class:"stat-card glass rounded-xl p-6"},G={class:"flex items-center justify-between mb-4"},H={class:"text-xs text-gray-500"},J={class:"grid grid-cols-2 gap-3 mb-3"},O={class:"bg-green-500/10 rounded-lg p-2"},Q={class:"flex items-center justify-between mb-1"},U={class:"text-lg font-bold text-white"},W={class:"bg-blue-500/10 rounded-lg p-2"},X={class:"flex items-center justify-between mb-1"},Y={class:"text-lg font-bold text-white"},Z={class:"bg-purple-500/10 rounded-lg p-2"},tt={class:"flex items-center justify-between mb-1"},et={class:"text-lg font-bold text-white"},st={class:"bg-orange-500/10 rounded-lg p-2"},at={class:"flex items-center justify-between mb-1"},nt={class:"text-lg font-bold text-white"},rt={class:"space-y-2"},lt={class:"relative h-8 bg-gray-800/50 rounded-lg overflow-hidden"},ot={class:"absolute inset-0 flex items-center justify-center"},it={class:"text-sm font-bold text-white drop-shadow-lg"},ut={class:"flex items-center justify-between text-xs"},dt={class:"text-[10px] text-gray-500 flex justify-between"},ct=q({__name:"PerformanceTrendCard",setup(vt){const o=B(),n=r(()=>!o.recentMatches||!o.recentMatches.length?[]:o.recentMatches.map(e=>{const t=parseInt(e.i40||"0"),a=parseInt(e.i14||"0"),i=parseInt(e.i15||"0"),u=parseInt(e.i16||"0"),v=t+a+i+u;return{kd:e.c2||"0",adr:e.c10||"0",kr:e.c3||"0",multiKills:v}}).filter(e=>parseFloat(e.kd)>0||parseFloat(e.adr)>0)),D=r(()=>n.value.length),M=r(()=>n.value.length?(n.value.reduce((t,a)=>t+parseFloat(a.kd),0)/n.value.length).toFixed(2):"0.00"),K=r(()=>{if(!n.value.length)return"0";const e=n.value.reduce((t,a)=>t+parseFloat(a.adr),0);return Math.round(e/n.value.length).toString()}),w=r(()=>n.value.length?(n.value.reduce((t,a)=>t+parseFloat(a.kr),0)/n.value.length).toFixed(2):"0.00"),S=r(()=>n.value.length?(n.value.reduce((t,a)=>t+a.multiKills,0)/n.value.length).toFixed(1):"0.0"),C=r(()=>{var e,t;return((t=(e=o.stats)==null?void 0:e.lifetime)==null?void 0:t.k5)||"0.00"}),V=r(()=>{var e,t;return((t=(e=o.stats)==null?void 0:e.lifetime)==null?void 0:t.k17)||"0"}),j=r(()=>{var e,t;return((t=(e=o.stats)==null?void 0:e.lifetime)==null?void 0:t.k9)||"0.00"}),R=r(()=>{var u,v,_,y,F,k,d,g;const e=parseFloat(((v=(u=o.stats)==null?void 0:u.lifetime)==null?void 0:v.k40)||"0"),t=parseFloat(((y=(_=o.stats)==null?void 0:_.lifetime)==null?void 0:y.k10)||"0"),a=parseFloat(((k=(F=o.stats)==null?void 0:F.lifetime)==null?void 0:k.k11)||"0"),i=parseFloat(((g=(d=o.stats)==null?void 0:d.lifetime)==null?void 0:g.k12)||"0");return(e+t+a+i).toFixed(1)}),x=r(()=>{const e=parseFloat(M.value),t=parseFloat(C.value);if(t===0)return 0;const a=(e-t)/t*100;return Math.round(a)}),p=r(()=>{const e=parseFloat(K.value),t=parseFloat(V.value);if(t===0)return 0;const a=(e-t)/t*100;return Math.round(a)}),m=r(()=>{const e=parseFloat(w.value),t=parseFloat(j.value);if(t===0)return 0;const a=(e-t)/t*100;return Math.round(a)}),h=r(()=>{const e=parseFloat(S.value),t=parseFloat(R.value);if(t===0)return 0;const a=(e-t)/t*100;return Math.round(a)});function b(e){if(e.length===0)return 0;const t=e.reduce((i,u)=>i+u,0)/e.length,a=e.reduce((i,u)=>i+Math.pow(u-t,2),0)/e.length;return Math.sqrt(a)}const T=r(()=>{if(!n.value.length)return"0.00";const e=n.value.map(t=>parseFloat(t.kd));return b(e).toFixed(2)}),A=r(()=>{if(!n.value.length)return"0";const e=n.value.map(t=>parseFloat(t.adr));return Math.round(b(e)).toString()}),c=r(()=>{if(!n.value.length)return 0;const e=n.value.map(d=>parseFloat(d.kd)),t=n.value.map(d=>parseFloat(d.adr)),a=e.reduce((d,g)=>d+g,0)/e.length,i=t.reduce((d,g)=>d+g,0)/t.length,u=b(e),v=b(t),_=a>0?u/a:0,y=i>0?v/i:0,F=(_+y)/2,k=Math.max(0,Math.min(100,100-F*150));return Math.round(k)}),I=r(()=>{const e=c.value;return e>=80?"bg-gradient-to-r from-green-500 to-green-400":e>=60?"bg-gradient-to-r from-primary to-orange-400":e>=40?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-red-500 to-red-400"}),P=r(()=>{const e=c.value;return e>=80?"Very Stable":e>=60?"Stable":e>=40?"Moderate":"Inconsistent"});return(e,t)=>(E(),z("div",$,[s("div",G,[t[0]||(t[0]=s("div",{class:"text-sm text-gray-400 font-semibold"},"Performance Trend",-1)),s("div",H,l(D.value)+" games",1)]),s("div",J,[s("div",O,[s("div",Q,[t[1]||(t[1]=s("span",{class:"text-xs text-gray-400"},"K/D",-1)),s("span",{class:f(["text-xs font-bold",x.value>0?"text-green-400":x.value<0?"text-red-400":"text-gray-400"])},l(x.value>0?"↑":x.value<0?"↓":"=")+l(Math.abs(x.value))+"% ",3)]),s("div",U,l(M.value),1)]),s("div",W,[s("div",X,[t[2]||(t[2]=s("span",{class:"text-xs text-gray-400"},"ADR",-1)),s("span",{class:f(["text-xs font-bold",p.value>0?"text-green-400":p.value<0?"text-red-400":"text-gray-400"])},l(p.value>0?"↑":p.value<0?"↓":"=")+l(Math.abs(p.value))+"% ",3)]),s("div",Y,l(K.value),1)]),s("div",Z,[s("div",tt,[t[3]||(t[3]=s("span",{class:"text-xs text-gray-400"},"K/R",-1)),s("span",{class:f(["text-xs font-bold",m.value>0?"text-green-400":m.value<0?"text-red-400":"text-gray-400"])},l(m.value>0?"↑":m.value<0?"↓":"=")+l(Math.abs(m.value))+"% ",3)]),s("div",et,l(w.value),1)]),s("div",st,[s("div",at,[t[4]||(t[4]=s("span",{class:"text-xs text-gray-400"},"Multi-K",-1)),s("span",{class:f(["text-xs font-bold",h.value>0?"text-green-400":h.value<0?"text-red-400":"text-gray-400"])},l(h.value>0?"↑":h.value<0?"↓":"=")+l(Math.abs(h.value))+"% ",3)]),s("div",nt,l(S.value),1)])]),s("div",null,[t[6]||(t[6]=s("div",{class:"text-xs text-gray-400 mb-2"},"Consistency Score",-1)),s("div",rt,[s("div",lt,[s("div",{class:f(["absolute inset-y-0 left-0 rounded-lg transition-all duration-500",I.value]),style:L({width:`${c.value}%`})},null,6),s("div",ot,[s("span",it,l(c.value)+"% ",1)])]),s("div",ut,[t[5]||(t[5]=s("span",{class:"text-gray-400"},"Stability",-1)),s("span",{class:f(["font-bold",c.value>=80?"text-green-400":c.value>=60?"text-primary":c.value>=40?"text-yellow-400":"text-red-400"])},l(P.value),3)]),s("div",dt,[s("span",null,"K/D σ: "+l(T.value),1),s("span",null,"ADR σ: "+l(A.value),1)])])])]))}}),xt=N(ct,[["__scopeId","data-v-d03ed9af"]]);export{xt as default};
